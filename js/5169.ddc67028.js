"use strict";(self["webpackChunkprotfolio_front_1"]=self["webpackChunkprotfolio_front_1"]||[]).push([[5169],{5169:function(e,t,i){i.d(t,{Bubbler:function(){return v}});var b=i(5811),o=i(7294);function l(e,t,i,o){if(t>=i){const l=e+(t-i)*o;return(0,b.qE)(l,e,t)}if(t<i){const l=e-(i-t)*o;return(0,b.qE)(l,t,e)}}const n="bubble",s=0,a=0,u=2,c=1,r=1,d=0,p=0,f=.5,h=1;class v extends b.sJ{constructor(e){super(e),this._clickBubble=()=>{const e=this.container,t=e.actualOptions,i=e.interactivity.mouse.clickPosition,o=t.interactivity.modes.bubble;if(!o||!i)return;e.bubble||(e.bubble={});const l=e.retina.bubbleModeDistance;if(!l||l<s)return;const n=e.particles.quadTree.queryCircle(i,l,(e=>this.isEnabled(e))),{bubble:r}=e;for(const s of n){if(!r.clicking)continue;s.bubble.inRange=!r.durationEnd;const t=s.getPosition(),n=(0,b.Yf)(t,i),d=((new Date).getTime()-(e.interactivity.mouse.clickTime??a))/b.Xu;d>o.duration&&(r.durationEnd=!0),d>o.duration*u&&(r.clicking=!1,r.durationEnd=!1);const p={bubbleObj:{optValue:e.retina.bubbleModeSize,value:s.bubble.radius},particlesObj:{optValue:(0,b.W9)(s.options.size.value)*e.retina.pixelRatio,value:s.size.value},type:"size"};this._process(s,n,d,p);const f={bubbleObj:{optValue:o.opacity,value:s.bubble.opacity},particlesObj:{optValue:(0,b.W9)(s.options.opacity.value),value:s.opacity?.value??c},type:"opacity"};this._process(s,n,d,f),!r.durationEnd&&n<=l?this._hoverBubbleColor(s,n):delete s.bubble.color}},this._hoverBubble=()=>{const e=this.container,t=e.interactivity.mouse.position,i=e.retina.bubbleModeDistance;if(!i||i<s||!t)return;const o=e.particles.quadTree.queryCircle(t,i,(e=>this.isEnabled(e)));for(const l of o){l.bubble.inRange=!0;const o=l.getPosition(),n=(0,b.Yf)(o,t),s=r-n/i;n<=i?s>=p&&e.interactivity.status===b.Rb&&(this._hoverBubbleSize(l,s),this._hoverBubbleOpacity(l,s),this._hoverBubbleColor(l,s)):this.reset(l),e.interactivity.status===b.Z0&&this.reset(l)}},this._hoverBubbleColor=(e,t,i)=>{const o=this.container.actualOptions,l=i??o.interactivity.modes.bubble;if(l){if(!e.bubble.finalColor){const t=l.color;if(!t)return;const i=(0,b.TA)(t);e.bubble.finalColor=(0,b.R5)(i)}if(e.bubble.finalColor)if(l.mix){e.bubble.color=void 0;const i=e.getFillColor();e.bubble.color=i?(0,b.K6)((0,b.EY)(i,e.bubble.finalColor,r-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,t,i)=>{const o=this.container,n=o.actualOptions,s=i?.opacity??n.interactivity.modes.bubble?.opacity;if(!s)return;const a=e.options.opacity.value,u=e.opacity?.value??c,r=l(u,s,(0,b.W9)(a),t);void 0!==r&&(e.bubble.opacity=r)},this._hoverBubbleSize=(e,t,i)=>{const o=this.container,n=i?.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(void 0===n)return;const s=(0,b.W9)(e.options.size.value)*o.retina.pixelRatio,a=e.size.value,u=l(a,n,s,t);void 0!==u&&(e.bubble.radius=u)},this._process=(e,t,i,b)=>{const o=this.container,l=b.bubbleObj.optValue,n=o.actualOptions,a=n.interactivity.modes.bubble;if(!a||void 0===l)return;const u=a.duration,c=o.retina.bubbleModeDistance,r=b.particlesObj.optValue,p=b.bubbleObj.value,f=b.particlesObj.value??d,h=b.type;if(c&&!(c<s)&&l!==r)if(o.bubble||(o.bubble={}),o.bubble.durationEnd)p&&("size"===h&&delete e.bubble.radius,"opacity"===h&&delete e.bubble.opacity);else if(t<=c){const t=p??f;if(t!==l){const t=f-i*(f-l)/u;"size"===h&&(e.bubble.radius=t),"opacity"===h&&(e.bubble.opacity=t)}}else"size"===h&&delete e.bubble.radius,"opacity"===h&&delete e.bubble.opacity},this._singleSelectorHover=(e,t,i)=>{const o=this.container,l=document.querySelectorAll(t),n=o.actualOptions.interactivity.modes.bubble;n&&l.length&&l.forEach((t=>{const l=t,s=o.retina.pixelRatio,a={x:(l.offsetLeft+l.offsetWidth*f)*s,y:(l.offsetTop+l.offsetHeight*f)*s},u=l.offsetWidth*f*s,c="circle"===i.type?new b.jl(a.x,a.y,u):new b.M_(l.offsetLeft*s,l.offsetTop*s,l.offsetWidth*s,l.offsetHeight*s),r=o.particles.quadTree.query(c,(e=>this.isEnabled(e)));for(const i of r){if(!c.contains(i.getPosition()))continue;i.bubble.inRange=!0;const t=n.divs,o=(0,b.NV)(t,l);i.bubble.div&&i.bubble.div===l||(this.clear(i,e,!0),i.bubble.div=l),this._hoverBubbleSize(i,h,o),this._hoverBubbleOpacity(i,h,o),this._hoverBubbleColor(i,h,o)}}))},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===n&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,o=i.onHover,l=i.onClick,s=o.enable,a=o.mode,u=l.enable,c=l.mode,r=i.onDiv;s&&(0,b.hn)(n,a)?this._hoverBubble():u&&(0,b.hn)(n,c)?this._clickBubble():(0,b.U6)(n,r,((t,i)=>this._singleSelectorHover(e,t,i)))}isEnabled(e){const t=this.container,i=t.actualOptions,o=t.interactivity.mouse,l=(e?.interactivity??i.interactivity).events,{onClick:s,onDiv:a,onHover:u}=l,c=(0,b.iK)(n,a);return!!(c||u.enable&&o.position||s.enable&&o.clickPosition)&&((0,b.hn)(n,u.mode)||(0,b.hn)(n,s.mode)||c)}loadModeOptions(e,...t){e.bubble||(e.bubble=new o.Z);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}}}]);
//# sourceMappingURL=5169.ddc67028.js.map