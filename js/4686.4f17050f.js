"use strict";(self["webpackChunkprotfolio_front_1"]=self["webpackChunkprotfolio_front_1"]||[]).push([[4686],{4686:function(t,i,e){e.d(i,{Container:function(){return q}});var s=e(6440),n=e(6172),o=(e(4114),e(5592)),a=e(1113);function r(t,i,e){const s=i[e],n=1;void 0!==s&&(t[e]=(t[e]??n)*s)}function h(t,i,e=!1){if(!i)return;const s=t;if(!s)return;const n=s.style;if(n)for(const o in i){const t=i[o];t&&n.setProperty(o,t,e?"important":"")}}class c{constructor(t){this.container=t,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw?.(t)},this._applyPreDrawUpdaters=(t,i,e,s,n,o)=>{for(const a of this._preDrawUpdaters){if(a.getColorStyles){const{fill:o,stroke:r}=a.getColorStyles(i,t,e,s);o&&(n.fill=o),r&&(n.stroke=r)}if(a.getTransformValues){const t=a.getTransformValues(i);for(const i in t)r(o,t,i)}a.beforeDraw?.(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize?.()},this._getPluginParticleColors=t=>{let i,e;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=(0,a.R5)(s.particleFillColor(t))),!e&&s.particleStrokeColor&&(e=(0,a.R5)(s.particleStrokeColor(t))),i&&e)break;return[i,e]},this._initCover=async()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,e=i.color;if(e){const t=(0,a.BN)(e);if(t){const e={...t,a:i.opacity};this._coverColorStyle=(0,a.xx)(e,e.a)}}else await new Promise(((t,e)=>{if(!i.image)return;const s=document.createElement("img");s.addEventListener("load",(()=>{this._coverImage={image:s,opacity:i.opacity},t()})),s.addEventListener("error",(t=>{e(t.error)})),s.src=i.image}))},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=(0,n.zw)({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const e in i.style){if(!e||!i.style)continue;const s=i.style[e];s&&t.style.setProperty(e,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,e=i.fill;if(!i.enable)return;const s=1,n=s/i.length;if(e.color){const t=(0,a.BN)(e.color);if(!t)return;this._trailFill={color:{...t},opacity:n}}else await new Promise(((t,i)=>{if(!e.image)return;const s=document.createElement("img");s.addEventListener("load",(()=>{this._trailFill={image:s,opacity:n},t()})),s.addEventListener("error",(t=>{i(t.error)})),s.src=e.image}))},this._paintBase=t=>{this.draw((i=>(0,o.Sn)(i,this.size,t)))},this._paintImage=(t,i)=>{this.draw((e=>(0,o.Md)(e,this.size,t,i)))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver((t=>t.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((i=>i.observe(t,{attributes:!0}))))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;t&&i&&h(t,i)},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i=10;h(t,{position:"fixed",zIndex:this.container.actualOptions.fullScreen.zIndex.toString(i),top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,i=t.particles.move.trail,e=this._trailFill,s=0;t.backgroundMask.enable?this.paint():i.enable&&i.length>s&&e?e.color?this._paintBase((0,a.xx)(e.color,e.opacity)):e.image&&this._paintImage(e.image,e.opacity):t.clear&&this.draw((t=>{(0,o.IU)(t,this.size)}))}destroy(){if(this.stop(),this._generated){const t=this.element;t?.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const i=this._context;if(i)return t(i)}drawAsync(t){const i=this._context;if(i)return t(i)}drawParticle(t,i){if(t.spawning||t.destroyed)return;const e=t.getRadius(),s=0;if(e<=s)return;const n=t.getFillColor(),r=t.getStrokeColor()??n;let[h,c]=this._getPluginParticleColors(t);h||(h=n),c||(c=r),(h||c)&&this.draw((s=>{const n=this.container,r=n.actualOptions,l=t.options.zIndex,d=1,u=d-t.zIndexFactor,p=u**l.opacityRate,f=1,_=t.bubble.opacity??t.opacity?.value??f,g=t.strokeOpacity??_,m=_*p,v=g*p,y={},w={fill:h?(0,a.LC)(h,m):void 0};w.stroke=c?(0,a.LC)(c,v):w.fill,this._applyPreDrawUpdaters(s,t,e,m,w,y),(0,o.p0)({container:n,context:s,particle:t,delta:i,colorStyles:w,backgroundMask:r.backgroundMask.enable,composite:r.backgroundMask.composite,radius:e*u**l.sizeRate,opacity:m,shadow:t.options.shadow,transform:y}),this._applyPostDrawUpdaters(t)}))}drawParticlePlugin(t,i,e){this.draw((s=>(0,o.Wb)(s,t,i,e)))}drawPlugin(t,i){this.draw((e=>(0,o.e_)(e,t,i)))}async init(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=(0,n.tG)((t=>{for(const i of t)"attributes"===i.type&&"style"===i.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(t){(0,n.tZ)().error(t)}this.initBackground(),this._safeMutationObserver((t=>{this.element&&t.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions,i=t.background,e=this.element;if(!e)return;const s=e.style;if(s){if(i.color){const t=(0,a.BN)(i.color);s.backgroundColor=t?(0,a.xx)(t,i.opacity):""}else s.backgroundColor="";s.backgroundImage=i.image||"",s.backgroundPosition=i.position||"",s.backgroundRepeat=i.repeat||"",s.backgroundSize=i.size||""}}initPlugins(){this._resizePlugins=[];for(const[,t]of this.container.plugins)t.resize&&this._resizePlugins.push(t),(t.particleFillColor??t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles??t.getTransformValues??t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&s.eb in t.dataset?"true"===t.dataset[s.eb]:this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=(0,n.zw)({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((t=>{this.element&&t.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw((i=>{t.backgroundMask.enable&&t.backgroundMask.cover?((0,o.IU)(i,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()}))}resize(){if(!this.element)return!1;const t=this.container,i=t.retina.pixelRatio,e=t.canvas.size,s={width:this.element.offsetWidth*i,height:this.element.offsetHeight*i};if(s.height===e.height&&s.width===e.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const n={...e};return this.element.width=e.width=this.element.offsetWidth*i,this.element.height=e.height=this.element.offsetHeight*i,this.container.started&&t.particles.setResizeFactor({width:e.width/n.width,height:e.height/n.height}),!0}stop(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=void 0,this.draw((t=>(0,o.IU)(t,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,i=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),i&&await t.refresh()}}var l=e(4508);const d=2;function u(t,i,e,s,n){if(s){let s={passive:!0};(0,l.Lm)(n)?s.capture=n:void 0!==n&&(s=n),t.addEventListener(i,e,s)}else{const s=n;t.removeEventListener(i,e,s)}}class p{constructor(t){this.container=t,this._doMouseTouchClick=t=>{const i=this.container,e=i.actualOptions;if(this._canPush){const t=i.interactivity.mouse,s=t.position;if(!s)return;t.clickPosition={...s},t.clickTime=(new Date).getTime();const o=e.interactivity.events.onClick;(0,n.wJ)(o.mode,(t=>this.container.handleClickMode(t)))}if("touchend"===t.type){const t=500;setTimeout((()=>this._mouseTouchFinish()),t)}},this._handleThemeChange=t=>{const i=t,e=this.container,s=e.options,n=s.defaultThemes,o=i.matches?n.dark:n.light,a=s.themes.find((t=>t.name===o));a&&a.default.auto&&e.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const t=this.container.canvas;await(t?.windowResize())};this._resizeTimeout=setTimeout((()=>{t()}),this.container.actualOptions.interactivity.events.resize.delay*s.Xu)},this._manageInteractivityListeners=(t,i)=>{const e=this._handlers,n=this.container,o=n.actualOptions,a=n.interactivity.element;if(!a)return;const r=a,h=n.canvas.element;h&&(h.style.pointerEvents=r===h?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(u(a,s.Rb,e.mouseMove,i),u(a,s.s7,e.touchStart,i),u(a,s.DG,e.touchMove,i),o.interactivity.events.onClick.enable?(u(a,s.Bp,e.touchEndClick,i),u(a,s.vo,e.mouseUp,i),u(a,s.ms,e.mouseDown,i)):u(a,s.Bp,e.touchEnd,i),u(a,t,e.mouseLeave,i),u(a,s.G3,e.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,e=this.container,n=e.actualOptions,o=n.interactivity.detectsOn,a=e.canvas.element;let r=s.Z0;"window"===o?(e.interactivity.element=window,r=s.sf):e.interactivity.element="parent"===o&&a?a.parentElement??a.parentNode:a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(r,t),document&&u(document,s.nK,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,e=(0,n.lV)("(prefers-color-scheme: dark)");e&&(void 0===e.addEventListener?void 0!==e.addListener&&(t?e.addListener(i.oldThemeChange):e.removeListener(i.oldThemeChange)):u(e,"change",i.themeChange,t))},this._manageResize=t=>{const i=this._handlers,e=this.container,n=e.actualOptions;if(!n.interactivity.events.resize)return;if("undefined"===typeof ResizeObserver)return void u(window,s.NF,i.resize,t);const o=e.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver((t=>{const i=t.find((t=>t.target===o));i&&this._handleWindowResize()})),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,e=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let n=!1;const o=s.position;if(o&&e.interactivity.events.onClick.enable){for(const[,t]of i.plugins)if(t.clickPositionValid&&(n=t.clickPositionValid(o),n))break;n||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=s.Z0,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,e=i.actualOptions,n=i.interactivity,o=i.canvas.element;if(!n?.element)return;let a;if(n.mouse.inside=!0,t.type.startsWith("pointer")){this._canPush=!0;const i=t;if(n.element===window){if(o){const t=o.getBoundingClientRect();a={x:i.clientX-t.left,y:i.clientY-t.top}}}else if("parent"===e.interactivity.detectsOn){const t=i.target,e=i.currentTarget;if(t&&e&&o){const s=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=o.getBoundingClientRect();a={x:i.offsetX+d*s.left-(n.left+r.left),y:i.offsetY+d*s.top-(n.top+r.top)}}else a={x:i.offsetX??i.clientX,y:i.offsetY??i.clientY}}else i.target===o&&(a={x:i.offsetX??i.clientX,y:i.offsetY??i.clientY})}else if(this._canPush="touchmove"!==t.type,o){const i=t,e=1,s=i.touches[i.touches.length-e],n=o.getBoundingClientRect(),r=0;a={x:s.clientX-(n.left??r),y:s.clientY-(n.top??r)}}const r=i.retina.pixelRatio;a&&(a.x*=r,a.y*=r),n.mouse.position=a,n.status=s.Rb},this._touchEnd=t=>{const i=t,e=Array.from(i.changedTouches);for(const s of e)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,e=Array.from(i.changedTouches);for(const s of e)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,e=Array.from(i.changedTouches);for(const s of e)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var f=e(7199);class _{constructor(t,i){this.container=i,this._engine=t,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(t){for(const i of this._externalInteractors)i.isEnabled()&&i.interact(t)}handleClickMode(t){for(const i of this._externalInteractors)i.handleClickMode?.(t)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case"external":this._externalInteractors.push(t);break;case"particles":this._particleInteractors.push(t);break}t.init()}}particlesInteract(t,i){for(const e of this._externalInteractors)e.clear(t,i);for(const e of this._particleInteractors)e.isEnabled(t)&&e.interact(t,i)}reset(t){for(const i of this._externalInteractors)i.isEnabled()&&i.reset(t);for(const i of this._particleInteractors)i.isEnabled(t)&&i.reset(t)}}var g=e(6753),m=e(4391),v=e(6212),y=e(8042);const w=0,b=2,z=.5,C=2;function x(t,i,e,s){const o=i.options[t];if(o)return(0,n.zw)({close:i.close,fill:i.fill},(0,n.TA)(o,e,s))}function k(t,i,e,s){const o=i.options[t];if(o)return(0,n.zw)({close:i.close,fill:i.fill},(0,n.TA)(o,e,s))}function P(t){if(!(0,n.hn)(t.outMode,t.checkModes))return;const i=t.radius*b;t.coord>t.maxCoord-i?t.setCb(-t.radius):t.coord<i&&t.setCb(t.radius)}class O{constructor(t,i){this.container=i,this._calcPosition=(t,i,e,s=w)=>{for(const[,d]of t.plugins){const t=void 0!==d.particlePosition?d.particlePosition(i,this):void 0;if(t)return g.p.create(t.x,t.y,e)}const n=t.canvas.size,o=(0,m.Nx)({size:n,position:i}),a=g.p.create(o.x,o.y,e),r=this.getRadius(),h=this.options.move.outModes,c=i=>{P({outMode:i,checkModes:["bounce"],coord:a.x,maxCoord:t.canvas.size.width,setCb:t=>a.x+=t,radius:r})},l=i=>{P({outMode:i,checkModes:["bounce"],coord:a.y,maxCoord:t.canvas.size.height,setCb:t=>a.y+=t,radius:r})};if(c(h.left??h.default),c(h.right??h.default),l(h.top??h.default),l(h.bottom??h.default),this._checkOverlap(a,s)){const i=1;return this._calcPosition(t,void 0,e,s+i)}return a},this._calculateVelocity=()=>{const t=(0,m.$m)(this.direction),i=t.copy(),e=this.options.move;if("inside"===e.direction||"outside"===e.direction)return i;const s=(0,m.pu)((0,m.VG)(e.angle.value)),n=(0,m.pu)((0,m.VG)(e.angle.offset)),o={left:n-s*z,right:n+s*z};return e.straight||(i.angle+=(0,m.U4)((0,m.DT)(o.left,o.right))),e.random&&"number"===typeof e.speed&&(i.length*=(0,m.G0)()),i},this._checkOverlap=(t,i=w)=>{const e=this.options.collisions,n=this.getRadius();if(!e.enable)return!1;const o=e.overlap;if(o.enable)return!1;const a=o.retries,r=0;if(a>=r&&i>a)throw new Error(`${s.dI} particle is overlapping and can't be placed`);return!!this.container.particles.find((i=>(0,m.Yf)(t,i.position)<n+i.getRadius()))},this._getRollColor=t=>{if(!t||!this.roll||!this.backColor&&!this.roll.alter)return t;const i=1,e=0,s=this.roll.horizontal&&this.roll.vertical?b*i:i,n=this.roll.horizontal?Math.PI*z:e,a=Math.floor(((this.roll.angle??e)+n)/(Math.PI/s))%b;return a?this.backColor?this.backColor:this.roll.alter?(0,o.yx)(t,this.roll.alter.type,this.roll.alter.value):t:t},this._initPosition=t=>{const i=this.container,e=(0,m.VG)(this.options.zIndex.value),s=0;this.position=this._calcPosition(i,t,(0,m.qE)(e,s,i.zLayers)),this.initialPosition=this.position.copy();const o=i.canvas.size,a=0;switch(this.moveCenter={...(0,n.E9)(this.options.move.center,o),radius:this.options.move.center.radius??a,mode:this.options.move.center.mode??"percent"},this.direction=(0,m.JY)(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=g.M.origin},this._engine=t}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const i=this.container,e=this.pathGenerator,s=i.shapeDrawers.get(this.shape);s?.particleDestroy?.(this);for(const[,n]of i.plugins)n.particleDestroyed?.(this,t);for(const n of i.particles.updaters)n.particleDestroyed?.(this,t);e?.reset(this),this._engine.dispatchEvent("particleDestroyed",{container:this.container,data:{particle:this}})}draw(t){const i=this.container,e=i.canvas;for(const[,s]of i.plugins)e.drawParticlePlugin(s,this,t);e.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??(0,a.O_)(this.color))}getMass(){return this.getRadius()**C*Math.PI*z}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??(0,a.O_)(this.strokeColor))}init(t,i,e,o){const r=this.container,h=this._engine;this.id=t,this.group=o,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const c=r.retina.pixelRatio,l=r.actualOptions,d=(0,y.y)(this._engine,r,l.particles),u=d.effect.type,p=d.shape.type,{reduceDuplicates:f}=d;this.effect=(0,n.TA)(u,this.id,f),this.shape=(0,n.TA)(p,this.id,f);const _=d.effect,g=d.shape;if(e){if(e.effect?.type){const t=e.effect.type,i=(0,n.TA)(t,this.id,f);i&&(this.effect=i,_.load(e.effect))}if(e.shape?.type){const t=e.shape.type,i=(0,n.TA)(t,this.id,f);i&&(this.shape=i,g.load(e.shape))}}this.effectData=x(this.effect,_,this.id,f),this.shapeData=k(this.shape,g,this.id,f),d.load(e);const w=this.effectData;w&&d.load(w.particles);const b=this.shapeData;b&&d.load(b.particles);const z=new v.k(h,r);z.load(r.actualOptions.interactivity),z.load(d.interactivity),this.interactivity=z,this.effectFill=w?.fill??d.effect.fill,this.effectClose=w?.close??d.effect.close,this.shapeFill=b?.fill??d.shape.fill,this.shapeClose=b?.close??d.shape.close,this.options=d;const C=this.options.move.path;this.pathDelay=(0,m.VG)(C.delay.value)*s.Xu,C.generator&&(this.pathGenerator=this._engine.getPathGenerator(C.generator),this.pathGenerator&&r.addPath(C.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=(0,n.Xs)(this.options.size,c),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(i),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();const P=1;this.moveDecay=P-(0,m.VG)(this.options.move.decay);const O=r.particles;O.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let T=r.effectDrawers.get(this.effect);T||(T=this._engine.getEffectDrawer(this.effect),T&&r.effectDrawers.set(this.effect,T)),T?.loadEffect&&T.loadEffect(this);let M=r.shapeDrawers.get(this.shape);M||(M=this._engine.getShapeDrawer(this.shape),M&&r.shapeDrawers.set(this.shape,M)),M?.loadShape&&M.loadShape(this);const S=M?.getSidesCount;S&&(this.sides=S(this)),this.spawning=!1,this.shadowColor=(0,a.BN)(this.options.shadow.color);for(const s of O.updaters)s.init(this);for(const s of O.movers)s.init?.(this);T?.particleInit?.(r,this),M?.particleInit?.(r,this);for(const[,s]of r.plugins)s.particleCreated?.(this)}isInsideCanvas(){const t=this.getRadius(),i=this.container.canvas.size,e=this.position;return e.x>=-t&&e.y>=-t&&e.y<=i.height+t&&e.x<=i.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset?.(this)}}class T{constructor(t,i){this.position=t,this.particle=i}}var M=e(7091);const S=.5,D=2,I=4;class R{constructor(t,i){this.rectangle=t,this.capacity=i,this._subdivide=()=>{const{x:t,y:i}=this.rectangle.position,{width:e,height:s}=this.rectangle.size,{capacity:n}=this;for(let o=0;o<I;o++){const a=o%D;this._subs.push(new R(new M.M_(t+e*S*a,i+s*S*(Math.round(o*S)-a),e*S,s*S),n))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return!!this.rectangle.contains(t.position)&&(this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some((i=>i.insert(t)))))}query(t,i){const e=[];if(!t.intersects(this.rectangle))return[];for(const s of this._points)!t.contains(s.position)&&(0,m.Yf)(t.position,s.position)>s.particle.getRadius()&&(!i||i(s.particle))||e.push(s.particle);if(this._divided)for(const s of this._subs)e.push(...s.query(t,i));return e}queryCircle(t,i,e){return this.query(new M.jl(t.x,t.y,i),e)}queryRectangle(t,i,e){return this.query(new M.M_(t.x,t.y,i.width,i.height),e)}}const E=4,L=2,F=1,A=t=>{const{height:i,width:e}=t,s=-.25,n=1.5;return new M.M_(s*e,s*i,n*e,n*i)};class G{constructor(t,i){this._addToPool=(...t)=>{for(const i of t)this._pool.push(i)},this._applyDensity=(t,i,e)=>{const s=t.number;if(!t.number.density?.enable)return void(void 0===e?this._limit=s.limit.value:s.limit&&this._groupLimits.set(e,s.limit.value));const n=this._initDensityFactor(s.density),o=s.value,a=0,r=s.limit.value>a?s.limit.value:o,h=Math.min(o,r)*n+i,c=Math.min(this.count,this.filter((t=>t.group===e)).length);void 0===e?this._limit=s.limit.value*n:this._groupLimits.set(e,s.limit.value*n),c<h?this.push(Math.abs(h-c),void 0,t,e):c>h&&this.removeQuantity(c-h,e)},this._initDensityFactor=t=>{const i=this._container,e=1;if(!i.canvas.element||!t.enable)return e;const s=i.canvas.element,n=i.retina.pixelRatio;return s.width*s.height/(t.height*t.width*n**L)},this._pushParticle=(t,i,e,o)=>{try{let s=this._pool.pop();s||(s=new O(this._engine,this._container)),s.init(this._nextId,t,i,e);let n=!0;if(o&&(n=o(s)),!n)return;return this._array.push(s),this._zArray.push(s),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:s}}),s}catch(a){(0,n.tZ)().warning(`${s.dI} adding particle: ${a}`)}},this._removeParticle=(t,i,e)=>{const s=this._array[t];if(!s||s.group!==i)return!1;const n=this._zArray.indexOf(s),o=1;return this._array.splice(t,o),this._zArray.splice(n,o),s.destroy(e),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:s}}),this._addToPool(s),!0},this._engine=t,this._container=i,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new _(t,i),this._pluginsInitialized=!1;const e=i.canvas.size;this.quadTree=new R(A(e),E),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const t=this._container,i=t.actualOptions;for(const e of i.manualParticles)this.addParticle(e.position?(0,n.E9)(e.position,t.canvas.size):void 0,e.options)}addParticle(t,i,e,s){const n=this._container.actualOptions.particles.number.limit,o=void 0===e?this._limit:this._groupLimits.get(e)??this._limit,a=this.count,r=0;if(o>r)if("delete"===n.mode){const t=1,i=0,e=a+t-o;e>i&&this.removeQuantity(e)}else if("wait"===n.mode&&a>=o)return;return this._pushParticle(t,i,e,s)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(t){const i=this._container,e=i.canvas;e.clear(),this.update(t);for(const[,s]of i.plugins)e.drawPlugin(s,t);for(const s of this._zArray)s.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}get(t){return this._array[t]}handleClickMode(t){this._interactionManager.handleClickMode(t)}async init(){const t=this._container,i=t.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let e=!1;for(const[,s]of t.plugins)if(void 0!==s.particlesInitialization&&(e=s.particlesInitialization()),e)break;if(this.addManualParticles(),!e){const t=i.particles,e=t.groups;for(const i in e){const s=e[i];for(let e=this.count,n=0;n<s.number?.value&&e<t.number.value;e++,n++)this.addParticle(void 0,s,i)}for(let i=this.count;i<t.number.value;i++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const t=this._container;this.movers=await this._engine.getMovers(t,!0),this.updaters=await this._engine.getUpdaters(t,!0),await this._interactionManager.init();for(const[,i]of t.pathGenerators)i.init(t)}push(t,i,e,s){for(let n=0;n<t;n++)this.addParticle(i?.position,e,s)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(t,i,e){this.removeAt(this._array.indexOf(t),void 0,i,e)}removeAt(t,i=F,e,s){const n=0;if(t<n||t>this.count)return;let o=0;for(let a=t;o<i&&a<this.count;a++)this._removeParticle(a--,e,s)&&o++}removeQuantity(t,i){const e=0;this.removeAt(e,t,i)}setDensity(){const t=this._container.actualOptions,i=t.particles.groups,e=0;for(const s in i)this._applyDensity(i[s],e,s);this._applyDensity(t.particles,t.manualParticles.length)}setLastZIndex(t){this._lastZIndex=t,this._needsSort=this._needsSort||this._lastZIndex<t}setResizeFactor(t){this._resizeFactor=t}update(t){const i=this._container,e=new Set;this.quadTree=new R(A(i.canvas.size),E);for(const[,n]of i.pathGenerators)n.update();for(const[,n]of i.plugins)n.update?.(t);const s=this._resizeFactor;for(const n of this._array){s&&!n.ignoresResizeRatio&&(n.position.x*=s.width,n.position.y*=s.height,n.initialPosition.x*=s.width,n.initialPosition.y*=s.height),n.ignoresResizeRatio=!1,this._interactionManager.reset(n);for(const[,i]of this._container.plugins){if(n.destroyed)break;i.particleUpdate?.(n,t)}for(const i of this.movers)i.isEnabled(n)&&i.move(n,t);n.destroyed?e.add(n):this.quadTree.insert(new T(n.getPosition(),n))}if(e.size){const t=t=>!e.has(t);this._array=this.filter(t),this._zArray=this._zArray.filter(t);for(const i of e)this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:i}});this._addToPool(...e)}this._interactionManager.externalInteract(t);for(const n of this._array){for(const i of this.updaters)i.update(n,t);n.destroyed||n.spawning||this._interactionManager.particlesInteract(n,t)}if(delete this._resizeFactor,this._needsSort){const t=this._zArray;t.sort(((t,i)=>i.position.z-t.position.z||t.id-i.id));const i=1;this._lastZIndex=t[t.length-i].position.z,this._needsSort=!1}}}const V=1,B=1;class U{constructor(t){this.container=t,this.pixelRatio=V,this.reduceFactor=B}init(){const t=this.container,i=t.actualOptions;this.pixelRatio=!i.detectRetina||(0,n.B9)()?V:window.devicePixelRatio,this.reduceFactor=B;const e=this.pixelRatio,s=t.canvas;if(s.element){const t=s.element;s.size.width=t.offsetWidth*e,s.size.height=t.offsetHeight*e}const o=i.particles,a=o.move;this.maxSpeed=(0,m.VG)(a.gravity.maxSpeed)*e,this.sizeAnimationSpeed=(0,m.VG)(o.size.animation.speed)*e}initParticle(t){const i=t.options,e=this.pixelRatio,s=i.move,n=s.distance,o=t.retina;o.moveDrift=(0,m.VG)(s.drift)*e,o.moveSpeed=(0,m.VG)(s.speed)*e,o.sizeAnimationSpeed=(0,m.VG)(i.size.animation.speed)*e;const a=o.maxDistance;a.horizontal=void 0!==n.horizontal?n.horizontal*e:void 0,a.vertical=void 0!==n.vertical?n.vertical*e:void 0,o.maxSpeed=(0,m.VG)(s.gravity.maxSpeed)*e}}function X(t){return t&&!t.destroyed}const H=60;function Y(t,i=H,e=!1){return{value:t,factor:e?H/i:H*t/s.Xu}}function Z(t,i,...e){const s=new f.J(t,i);return(0,y.Z)(s,...e),s}class q{constructor(t,i,e){this._intersectionManager=t=>{if(X(this)&&this.actualOptions.pauseOnOutsideViewport)for(const i of t)i.target===this.interactivity.element&&(i.isIntersecting?this.play():this.pause())},this._nextFrame=t=>{try{if(!this._smooth&&void 0!==this._lastFrameTime&&t<this._lastFrameTime+s.Xu/this.fpsLimit)return void this.draw(!1);this._lastFrameTime??=t;const i=Y(t-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(i.value),this._lastFrameTime=t,i.value>s.Xu)return void this.draw(!1);if(this.particles.draw(i),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(i){(0,n.tZ)().error(`${s.dI} in animation loop`,i)}},this._engine=t,this.id=Symbol(i),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=e,this._initialSourceOptions=e,this.retina=new U(this),this.canvas=new c(this),this.particles=new G(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Z(this._engine,this),this.actualOptions=Z(this._engine,this),this._eventListeners=new p(this),this._intersectionObserver=(0,n.BR)((t=>this._intersectionManager(t))),this._engine.dispatchEvent("containerBuilt",{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&X(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!X(this))return;const i=this.interactivity.element;if(!i)return;const e=(i,e,s)=>{if(!X(this))return;const n=this.retina.pixelRatio,o={x:e.x*n,y:e.y*n},a=this.particles.quadTree.queryCircle(o,s*n);t(i,a)},s=t=>{if(!X(this))return;const i=t,s={x:i.offsetX||i.clientX,y:i.offsetY||i.clientY},n=1;e(t,s,n)},n=()=>{X(this)&&(h=!0,c=!1)},o=()=>{X(this)&&(c=!0)},a=t=>{if(X(this)){if(h&&!c){const i=t,s=1;let n=i.touches[i.touches.length-s];if(!n&&(n=i.changedTouches[i.changedTouches.length-s],!n))return;const o=this.canvas.element,a=o?o.getBoundingClientRect():void 0,r=0,h={x:n.clientX-(a?a.left:r),y:n.clientY-(a?a.top:r)};e(t,h,Math.max(n.radiusX,n.radiusY))}h=!1,c=!1}},r=()=>{X(this)&&(h=!1,c=!1)};let h=!1,c=!1;i.addEventListener("click",s),i.addEventListener("touchstart",n),i.addEventListener("touchmove",o),i.addEventListener("touchend",a),i.addEventListener("touchcancel",r)}addLifeTime(t){this._lifeTime+=t}addPath(t,i,e=!1){return!(!X(this)||!e&&this.pathGenerators.has(t))&&(this.pathGenerators.set(t,i),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!X(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,s]of this.effectDrawers)s.destroy?.(this);for(const[,s]of this.shapeDrawers)s.destroy?.(this);for(const s of this.effectDrawers.keys())this.effectDrawers.delete(s);for(const s of this.shapeDrawers.keys())this.shapeDrawers.delete(s);this._engine.clearPlugins(this),this.destroyed=!0;const t=this._engine.dom(),i=t.findIndex((t=>t===this)),e=0;if(i>=e){const e=1;t.splice(i,e)}this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(t){if(!X(this))return;let i=t;const e=t=>{i&&(this._lastFrameTime=void 0,i=!1),this._nextFrame(t)};this._drawAnimationFrame=requestAnimationFrame((t=>e(t)))}async export(t,i={}){for(const[,e]of this.plugins){if(!e.export)continue;const s=await e.export(t,i);if(s.supported)return s.blob}(0,n.tZ)().error(`${s.dI} - Export plugin with type ${t} not found`)}handleClickMode(t){if(X(this)){this.particles.handleClickMode(t);for(const[,i]of this.plugins)i.handleClickMode?.(t)}}async init(){if(!X(this))return;const t=this._engine.getSupportedEffects();for(const s of t){const t=this._engine.getEffectDrawer(s);t&&this.effectDrawers.set(s,t)}const i=this._engine.getSupportedShapes();for(const s of i){const t=this._engine.getShapeDrawer(s);t&&this.shapeDrawers.set(s,t)}await this.particles.initPlugins(),this._options=Z(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Z(this._engine,this,this._options);const e=await this._engine.getAvailablePlugins(this);for(const[s,a]of e)this.plugins.set(s,a);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=(0,m.VG)(this.actualOptions.duration)*s.Xu,this._delay=(0,m.VG)(this.actualOptions.delay)*s.Xu,this._lifeTime=0;const n=120,o=0;this.fpsLimit=this.actualOptions.fpsLimit>o?this.actualOptions.fpsLimit:n,this._smooth=this.actualOptions.smooth;for(const[,s]of this.effectDrawers)await(s.init?.(this));for(const[,s]of this.shapeDrawers)await(s.init?.(this));for(const[,s]of this.plugins)await(s.init?.());this._engine.dispatchEvent("containerInit",{container:this}),await this.particles.init(),this.particles.setDensity();for(const[,s]of this.plugins)s.particlesSetup?.();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(t){X(this)&&(this._currentTheme=t,await this.refresh())}pause(){if(X(this)&&(void 0!==this._drawAnimationFrame&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,t]of this.plugins)t.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(t){if(!X(this))return;const i=this._paused||t;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),i)for(const[,t]of this.plugins)t.play&&t.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(i??!1)}else this._firstStart=!1}async refresh(){if(X(this))return this.stop(),this.start()}async reset(){if(X(this))return this._initialSourceOptions=void 0,this._options=Z(this._engine,this),this.actualOptions=Z(this._engine,this,this._options),this.refresh()}async start(){X(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((t=>{const i=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)await(t.start?.());this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),t()};this._delayTimeout=setTimeout((()=>{i()}),this._delay)})))}stop(){if(X(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,t]of this.plugins)t.stop?.();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==t&&(this._responsiveMaxWidth=t,!0)}}}}]);
//# sourceMappingURL=4686.4f17050f.js.map